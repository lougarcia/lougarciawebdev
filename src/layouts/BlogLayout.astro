---
export const prerender = true;

import MainLayout from "@/layouts/MainLayout.astro";
import HtmlLayout from "@/layouts/HtmlLayout.astro";
import { header } from "@/data/navLinks"

const blogLink = header.find(l => l.text === 'Blogs');

---

<HtmlLayout>
    <MainLayout>
        <div class=" md:flex md:flex-row-reverse items-start justify-end gap-8 w-[min(960px,100%)] mx-auto px-2 lg:px-0 py-8">
            <div class="grow">
                <slot />
            </div>
            <aside>
                <ul>
                    <li class="menu bg-base-200 rounded-box w-full md:w-44">
                        <h2 class="menu-title">Types</h2>
                        <ul>
                            {blogLink?.links?.map((l) => (
                                <li>
                                    <a href={l.href}>{l.text}</a>
                                </li>
                            ))}
                        </ul>
                    </li>
                    <li class="menu bg-base-200 rounded-box w-full md:w-44 mt-4">
                        <h2 class="menu-title">Tags</h2>
                        <ul
                            x-data="{tags:[]}"
                            x-init="tags = await (await fetch('/tags.json')).json()"
                            >
                            <template x-for="tag in tags">
                                <li>
                                    <a
                                        :href="`/tags?id=${encodeURIComponent(tag)}`"
                                        x-text="tag"
                                    ></a>
                                </li>
                            </template>
                        </ul>
                    </li>
                </ul>
            </aside>
        </div>
    </MainLayout>
</HtmlLayout>

