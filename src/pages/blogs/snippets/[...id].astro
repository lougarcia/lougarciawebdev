---
export const prerender = true;

import BlogLayout from "@/layouts/BlogLayout.astro";
import { getCollection, render } from 'astro:content';

export async function getStaticPaths() {
    const posts = await getCollection('snippets');
    return posts.map(post => ({
        params: { id: post.data.slug.replace(/^\/blogs\/snippets\//, '') },
        props: { post },
    }));
}

const { post } = Astro.props;
const { Content } = await render(post);
---
<BlogLayout>
    <div class="grow">
        <div class="breadcrumbs text-sm">
            <ul>
                <li><a href="/">Home</a></li>
                <li><a href="/blogs">Blogs</a></li>
                <li><a href="/blogs/snippets">Snippets</a></li>
                <li>{post.data.title}</li>
            </ul>
        </div>
        <div class="prose prose-h1:font-serif">
            <Content />
        </div>
    </div>
</BlogLayout>